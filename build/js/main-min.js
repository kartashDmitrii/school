(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=3)})([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return DotsCanvas});class DotsCanvas{constructor(payload){this.importElem=payload.importElem;this.class=payload.class;this.width=payload.width;this.height=payload.height;this.canvas=document.createElement("CANVAS");this.canvas.width=this.width;this.canvas.height=this.height;this.canvas.classList.add(this.class);this.importElem.appendChild(this.canvas);this.ctx=this.canvas.getContext("2d");this.ctx.fillStyle="rgb(255, 201, 25)";for(let i=5;i<this.width;i+=30){for(let j=5;j<this.height;j+=30){this.drawDot(i,j,5)}}}drawDot(X,Y,Rad){this.ctx.beginPath();this.ctx.arc(X,Y,Rad,0,Math.PI*2,true);this.ctx.fill()}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return hideList});class hideList{constructor(listBlock,autoHeight=false){this.autoHeight=autoHeight;this.listBlock=listBlock;this.list=this.listBlock.querySelector("[data-block]");this.listBlock.querySelector("[data-btn]").addEventListener("click",()=>{this.showBlock()});if(this.listBlock.querySelector("[data-btn]").classList.contains("active")){this.list.style.height=`${this.list.scrollHeight}px`;this.list.classList.add("active")}}showBlock(){let blockHeight=parseInt(window.getComputedStyle(this.list).getPropertyValue("height"));if(blockHeight===0){if(this.autoHeight){this.list.style.height=`auto`}else{this.list.style.height=`${this.list.scrollHeight}px`}this.listBlock.querySelector("[data-btn]").classList.add("active");this.list.classList.add("active")}else{this.listBlock.querySelector("[data-btn]").classList.remove("active");this.list.classList.remove("active");this.list.style.height=`0`}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return popupFunc});class popupFunc{constructor(button,popup,wrapper=true){this.button=button;this.popup=popup;this.wrapper=wrapper;this.openPopupFunc=this.openPopup.bind(this);this.closePopupFunc=this.closePopup.bind(this);if(Array.isArray(this.button)){this.button.forEach(elem=>{elem.addEventListener("click",this.openPopupFunc)})}else{this.button.addEventListener("click",this.openPopupFunc)}if(Array.isArray(this.popup)){this.popup.forEach(elem=>{elem.querySelectorAll(".close").forEach(elem=>elem.addEventListener("click",this.closePopupFunc))})}else{this.popup.querySelectorAll(".close").forEach(elem=>elem.addEventListener("click",this.closePopupFunc))}}openPopup(event){document.querySelectorAll(".popup-wrapper>div").forEach(elem=>{elem.classList.remove("active")});document.querySelectorAll(".popup").forEach(elem=>{elem.classList.remove("active")});if(event.target.dataset.stopEvent===undefined){event.preventDefault();if(Array.isArray(this.popup)){this.popup.forEach(elem=>{elem.classList.add("active");if(elem.parentNode.classList.contains("wrapper")&&this.wrapper){elem.parentNode.classList.add("active")}if(window.screen.width<768){document.body.classList.add("hidden")}});if(document.querySelector(".popup-wrapper")&&this.wrapper){document.querySelector(".popup-wrapper").classList.add("active")}}else{this.popup.classList.add("active");if(this.popup.parentNode.classList.contains("wrapper")&&this.wrapper){this.popup.parentNode.classList.add("active")}if(window.screen.width<768){document.body.classList.add("hidden")}if(document.querySelector(".popup-wrapper")&&this.wrapper){document.querySelector(".popup-wrapper").classList.add("active")}}window.addEventListener("mousedown",this.closePopupFunc)}}closePopup(event){if(!event.target.classList.contains("close")){event.stopPropagation()}else{if(Array.isArray(this.popup)){this.popup.forEach(elem=>{elem.classList.remove("active");if(elem.parentNode.classList.contains("wrapper")&&this.wrapper){elem.parentNode.classList.remove("active")}if(window.screen.width<768){document.body.classList.remove("hidden")}if(document.querySelector(".popup-wrapper")&&this.wrapper){document.querySelector(".popup-wrapper").classList.remove("active")}})}else{this.popup.classList.remove("active");if(this.popup.parentNode.classList.contains("wrapper")&&this.wrapper){this.popup.parentNode.classList.remove("active")}if(window.screen.width<768){document.body.classList.remove("hidden")}if(document.querySelector(".popup-wrapper")&&this.wrapper){document.querySelector(".popup-wrapper").classList.remove("active")}}window.removeEventListener("mousedown",this.closePopupFunc)}}}},function(module,exports,__webpack_require__){__webpack_require__(4);__webpack_require__(0);__webpack_require__(1);module.exports=__webpack_require__(2)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _components_hideList__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);var _components_dots__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0);var _components_popupFunc__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2);if(document.querySelector("[data-hide]")){document.querySelectorAll("[data-hide]").forEach(list=>{setTimeout(()=>{new _components_hideList__WEBPACK_IMPORTED_MODULE_0__["default"](list)},500)})}if(document.querySelector("[data-hide-auto]")){document.querySelectorAll("[data-hide-auto]").forEach(list=>{setTimeout(()=>{new _components_hideList__WEBPACK_IMPORTED_MODULE_0__["default"](list,true)},500)})}if(document.querySelector("*[data-popup]")){document.querySelectorAll("*[data-popup]").forEach(elem=>{if(document.querySelector(`.popup.${elem.dataset.popup}`)){new _components_popupFunc__WEBPACK_IMPORTED_MODULE_2__["default"](elem,document.querySelector(`.popup.${elem.dataset.popup}`))}})}if(document.querySelector("section.top-catalog")){function closeMenu(e){if(!e.target.closest(".catalog")){document.querySelectorAll("section.top-catalog .catalog .has-child.active").forEach(elem=>{elem.classList.remove("active")});window.removeEventListener("click",closeMenu)}}document.querySelectorAll("section.top-catalog .catalog .has-child span").forEach(elem=>{elem.addEventListener("click",function(e){let activeClass;e.stopPropagation();elem.parentNode.classList.contains("active")?activeClass=true:activeClass=false;elem.parentNode.closest("ul").querySelectorAll(".has-child").forEach(child=>child.classList.remove("active"));if(activeClass){this.classList.add("active")}else{window.addEventListener("click",closeMenu)}elem.parentNode.classList.toggle("active")})});new _components_dots__WEBPACK_IMPORTED_MODULE_1__["default"]({importElem:document.querySelector("section.top-catalog .dots-canvas"),class:"top-block-dots",width:204,height:108})}if(document.querySelector("section.product-slider")){document.querySelectorAll("section.product-slider").forEach(elem=>{let slidesPerView=4;if(elem.classList.contains("three-slides-per-view")){slidesPerView=3}let block=elem.querySelector(".swiper-container");let swiper=new Swiper(block,{slidesPerView:slidesPerView,spaceBetween:30,slidesPerGroup:4,loop:true,loopFillGroupWithBlank:true,pagination:{el:elem.querySelector(".pagination"),clickable:true},navigation:{nextEl:elem.querySelector(".arrow.next"),prevEl:elem.querySelector(".arrow.prev")},breakpoints:{0:{slidesPerView:1,slidesPerGroup:1},767:{slidesPerView:2,slidesPerGroup:2},902:{slidesPerView:3,slidesPerGroup:3},1365:{slidesPerView:4,slidesPerGroup:4}}})})}if(document.querySelector("section.features")){new _components_dots__WEBPACK_IMPORTED_MODULE_1__["default"]({importElem:document.querySelector("section.features .dots-canvas"),class:"top-block-dots",width:430,height:108})}if(document.querySelector("section.about-company")){new _components_dots__WEBPACK_IMPORTED_MODULE_1__["default"]({importElem:document.querySelector("section.about-company .dots-canvas"),class:"top-block-dots",width:430,height:108})}if(document.querySelector("section.solutions")){new _components_dots__WEBPACK_IMPORTED_MODULE_1__["default"]({importElem:document.querySelector("section.solutions .dots-canvas"),class:"top-block-dots",width:430,height:108})}if(document.querySelector("section.contacts")){new _components_dots__WEBPACK_IMPORTED_MODULE_1__["default"]({importElem:document.querySelector("section.contacts .dots-canvas"),class:"top-block-dots",width:108,height:76})}if(document.querySelector("section.catalog")){document.querySelectorAll("section.catalog .catalog-buttons .btns-view button").forEach(elem=>{elem.addEventListener("click",function(){document.querySelector("section.catalog .catalog-buttons .btns-view button.active").classList.remove("active");if(elem.classList.contains("list")){document.querySelector("section.catalog .product-grid").classList.add("row-grid")}else{document.querySelector("section.catalog .product-grid").classList.remove("row-grid")}elem.classList.add("active")})})}if(document.querySelector("section.filter .filter-list.price")){let from=$("section.filter .filter-list.price .range-slider").data("from"),to=$("section.filter .filter-list.price .range-slider").data("to"),fromInput=$("section.filter .filter-list.price .from input"),toInput=$("section.filter .filter-list.price .to input"),min=$("section.filter .filter-list.price .range-slider").data("min"),max=$("section.filter .filter-list.price .range-slider").data("max");function updateInputs(data){from=data.from;to=data.to;fromInput.prop("value",from);toInput.prop("value",to)}$("section.filter .filter-list.price .range-slider").ionRangeSlider({type:"double",skin:"round",from_shadow:true,to_shadow:true,hide_min_max:true,hide_from_to:true,onStart:updateInputs,onChange:updateInputs,onFinish:updateInputs});let instance=$("section.filter .filter-list.price .range-slider").data("ionRangeSlider");fromInput.on("change",function(){let val=$(this).prop("value");if(val<min){val=min}else if(val>to){val=to}instance.update({from:val});$(this).prop("value",val)});toInput.on("change",function(){var val=$(this).prop("value");if(val<from){val=from}else if(val>max){val=max}instance.update({to:val});$(this).prop("value",val)})}if(document.querySelector("section.product-info .image-gallery")){let swiper=new Swiper("section.product-info .image-gallery .swiper-container",{direction:"vertical",slidesPerView:4,spaceBetween:20});document.querySelectorAll("section.product-info .image-gallery .swiper-slide").forEach(elem=>{elem.querySelector("a").addEventListener("click",function(e){e.preventDefault();document.querySelector("section.product-info .big-image img").src=elem.querySelector("img").src;document.querySelector("section.product-info .big-image a").href=elem.querySelector("a").href})})}if(document.querySelector("section.product-tabs")){document.querySelectorAll("section.product-tabs .tab-links li").forEach((elem,i)=>{elem.addEventListener("click",function(){document.querySelector("section.product-tabs .tab-links .active").classList.remove("active");document.querySelector("section.product-tabs .tabs .tab.active").classList.remove("active");elem.classList.add("active");[...document.querySelectorAll("section.product-tabs .tabs .tab")][i].classList.add("active")})})}if(document.querySelector("section.cart-order")){document.querySelectorAll("section.cart-order .delivery .content .block").forEach(elem=>{elem.querySelector(".radio input").addEventListener("input",function(){document.querySelectorAll("section.cart-order .delivery .content .block").forEach(block=>{block.classList.remove("active");block.querySelector(".radio-fields").style.height=0});elem.classList.add("active");elem.querySelector(".radio-fields").style.height=`${elem.querySelector(".radio-fields").scrollHeight}px`})});document.querySelector("section.cart-order .up").addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}if(document.querySelector("section.about-us")){new _components_dots__WEBPACK_IMPORTED_MODULE_1__["default"]({importElem:document.querySelector("section.about-us .dots-canvas"),class:"top-block-dots",width:204,height:108})}if(document.querySelector("section.main-catalog")){document.querySelectorAll("section.main-catalog .dots-canvas").forEach(elem=>{new _components_dots__WEBPACK_IMPORTED_MODULE_1__["default"]({importElem:elem,class:"top-block-dots",width:430,height:105})})}if(document.querySelector("section.payment-methods")){document.querySelectorAll("section.payment-methods .dots-canvas").forEach(elem=>{new _components_dots__WEBPACK_IMPORTED_MODULE_1__["default"]({importElem:elem,class:"top-block-dots",width:430,height:105})})}if(document.querySelector("section.service")){document.querySelectorAll("section.service .dots-canvas").forEach(elem=>{new _components_dots__WEBPACK_IMPORTED_MODULE_1__["default"]({importElem:elem,class:"top-block-dots",width:430,height:105})})}if(document.querySelector("section.blog")){document.querySelectorAll("section.blog .dots-canvas").forEach(elem=>{new _components_dots__WEBPACK_IMPORTED_MODULE_1__["default"]({importElem:elem,class:"top-block-dots",width:430,height:105})})}if(document.querySelector("section.contact-page")){document.querySelectorAll("section.contact-page .dots-canvas").forEach(elem=>{new _components_dots__WEBPACK_IMPORTED_MODULE_1__["default"]({importElem:elem,class:"top-block-dots",width:430,height:105})})}if(document.querySelector("section.news-page")){document.querySelectorAll("section.news-page .dots-canvas").forEach(elem=>{new _components_dots__WEBPACK_IMPORTED_MODULE_1__["default"]({importElem:elem,class:"top-block-dots",width:430,height:105})})}if(document.querySelector("header .burger")&&window.screen.width<992){function closeBurger(e){if(!e.target.closest(".phones")&&!e.target.closest("nav")&&!e.target.closest(".langs")){document.querySelector("header .phones").classList.remove("active");document.querySelector("header nav").classList.remove("active");document.querySelector("header .langs").classList.remove("active");document.querySelector("header .phones .close").removeEventListener("mousedown",closeBurger);window.removeEventListener("mousedown",closeBurger)}}document.querySelector("header .burger").addEventListener("click",function(){document.querySelector("header .phones").classList.add("active");document.querySelector("header nav").classList.add("active");document.querySelector("header .langs").classList.add("active");document.querySelector("header .phones .close").addEventListener("mousedown",closeBurger);window.addEventListener("mousedown",closeBurger)})}if(document.querySelector("header .search")&&window.screen.width<768){function closeSearch(e){if(e.target.classList.contains("close-label")){document.querySelector("header .search label").classList.remove("active","close-label");document.querySelector("header .search label").removeEventListener("click",closeSearch)}}document.querySelector("header .search>a").addEventListener("click",function(){document.querySelector("header .search label").classList.add("active","close-label");document.querySelector("header .search label").addEventListener("click",closeSearch)})}if(document.querySelector("section.top-catalog .catalog")&&window.screen.width<951){function closeCatalog(){document.querySelector("section.top-catalog .catalog>ul").classList.remove("active","close-label");document.querySelector("section.top-catalog .catalog>ul .close").removeEventListener("click",closeCatalog)}document.querySelector("section.top-catalog .catalog>p").addEventListener("click",function(){document.querySelector("section.top-catalog .catalog>ul").classList.add("active","close-label");document.querySelector("section.top-catalog .catalog>ul .close").addEventListener("click",closeCatalog)})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibW9kdWxlcyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJnZXREZWZhdWx0IiwiZ2V0TW9kdWxlRXhwb3J0cyIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIl9fd2VicGFja19leHBvcnRzX18iLCJEb3RzQ2FudmFzIiwiW29iamVjdCBPYmplY3RdIiwicGF5bG9hZCIsInRoaXMiLCJpbXBvcnRFbGVtIiwiY2xhc3MiLCJ3aWR0aCIsImhlaWdodCIsImNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImFwcGVuZENoaWxkIiwiY3R4IiwiZ2V0Q29udGV4dCIsImZpbGxTdHlsZSIsImoiLCJkcmF3RG90IiwiWCIsIlkiLCJSYWQiLCJiZWdpblBhdGgiLCJhcmMiLCJNYXRoIiwiUEkiLCJmaWxsIiwiaGlkZUxpc3QiLCJsaXN0QmxvY2siLCJhdXRvSGVpZ2h0IiwibGlzdCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwic2hvd0Jsb2NrIiwiY29udGFpbnMiLCJzdHlsZSIsInNjcm9sbEhlaWdodCIsImJsb2NrSGVpZ2h0IiwicGFyc2VJbnQiLCJ3aW5kb3ciLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInJlbW92ZSIsInBvcHVwRnVuYyIsImJ1dHRvbiIsInBvcHVwIiwid3JhcHBlciIsIm9wZW5Qb3B1cEZ1bmMiLCJvcGVuUG9wdXAiLCJjbG9zZVBvcHVwRnVuYyIsImNsb3NlUG9wdXAiLCJBcnJheSIsImlzQXJyYXkiLCJmb3JFYWNoIiwiZWxlbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJldmVudCIsInRhcmdldCIsImRhdGFzZXQiLCJzdG9wRXZlbnQiLCJ1bmRlZmluZWQiLCJwcmV2ZW50RGVmYXVsdCIsInBhcmVudE5vZGUiLCJzY3JlZW4iLCJib2R5Iiwic3RvcFByb3BhZ2F0aW9uIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9jb21wb25lbnRzX2hpZGVMaXN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfY29tcG9uZW50c19kb3RzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18iLCJfY29tcG9uZW50c19wb3B1cEZ1bmNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyIsInNldFRpbWVvdXQiLCJjbG9zZU1lbnUiLCJlIiwiY2xvc2VzdCIsImFjdGl2ZUNsYXNzIiwiY2hpbGQiLCJ0b2dnbGUiLCJzbGlkZXNQZXJWaWV3IiwiYmxvY2siLCJzd2lwZXIiLCJTd2lwZXIiLCJzcGFjZUJldHdlZW4iLCJzbGlkZXNQZXJHcm91cCIsImxvb3AiLCJsb29wRmlsbEdyb3VwV2l0aEJsYW5rIiwicGFnaW5hdGlvbiIsImVsIiwiY2xpY2thYmxlIiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCIsImJyZWFrcG9pbnRzIiwiMCIsIjc2NyIsIjkwMiIsIjEzNjUiLCJmcm9tIiwiJCIsImRhdGEiLCJ0byIsImZyb21JbnB1dCIsInRvSW5wdXQiLCJtaW4iLCJtYXgiLCJ1cGRhdGVJbnB1dHMiLCJwcm9wIiwiaW9uUmFuZ2VTbGlkZXIiLCJ0eXBlIiwic2tpbiIsImZyb21fc2hhZG93IiwidG9fc2hhZG93IiwiaGlkZV9taW5fbWF4IiwiaGlkZV9mcm9tX3RvIiwib25TdGFydCIsIm9uQ2hhbmdlIiwib25GaW5pc2giLCJpbnN0YW5jZSIsIm9uIiwidmFsIiwidXBkYXRlIiwiZGlyZWN0aW9uIiwic3JjIiwiaHJlZiIsInNjcm9sbFRvIiwidG9wIiwiYmVoYXZpb3IiLCJjbG9zZUJ1cmdlciIsImNsb3NlU2VhcmNoIiwiY2xvc2VDYXRhbG9nIl0sIm1hcHBpbmdzIjoiQ0FBUyxTQUFVQSxTQUVULElBQUlDLGlCQUFtQixHQUd2QixTQUFTQyxvQkFBb0JDLFVBRzVCLEdBQUdGLGlCQUFpQkUsVUFBVyxDQUM5QixPQUFPRixpQkFBaUJFLFVBQVVDLFFBR25DLElBQUlDLE9BQVNKLGlCQUFpQkUsVUFBWSxDQUN6Q0csRUFBR0gsU0FDSEksRUFBRyxNQUNISCxRQUFTLElBSVZKLFFBQVFHLFVBQVVLLEtBQUtILE9BQU9ELFFBQVNDLE9BQVFBLE9BQU9ELFFBQVNGLHFCQUcvREcsT0FBT0UsRUFBSSxLQUdYLE9BQU9GLE9BQU9ELFFBS2ZGLG9CQUFvQk8sRUFBSVQsUUFHeEJFLG9CQUFvQlEsRUFBSVQsaUJBR3hCQyxvQkFBb0JTLEVBQUksU0FBU1AsUUFBU1EsS0FBTUMsUUFDL0MsSUFBSVgsb0JBQW9CWSxFQUFFVixRQUFTUSxNQUFPLENBQ3pDRyxPQUFPQyxlQUFlWixRQUFTUSxLQUFNLENBQUVLLFdBQVksS0FBTUMsSUFBS0wsV0FLaEVYLG9CQUFvQmlCLEVBQUksU0FBU2YsU0FDaEMsVUFBVWdCLFNBQVcsYUFBZUEsT0FBT0MsWUFBYSxDQUN2RE4sT0FBT0MsZUFBZVosUUFBU2dCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZVosUUFBUyxhQUFjLENBQUVrQixNQUFPLFFBUXZEcEIsb0JBQW9CcUIsRUFBSSxTQUFTRCxNQUFPRSxNQUN2QyxHQUFHQSxLQUFPLEVBQUdGLE1BQVFwQixvQkFBb0JvQixPQUN6QyxHQUFHRSxLQUFPLEVBQUcsT0FBT0YsTUFDcEIsR0FBSUUsS0FBTyxVQUFhRixRQUFVLFVBQVlBLE9BQVNBLE1BQU1HLFdBQVksT0FBT0gsTUFDaEYsSUFBSUksR0FBS1gsT0FBT1ksT0FBTyxNQUN2QnpCLG9C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bnRlbnQiOlsiLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRpOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge31cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbi8qKioqKiovIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbi8qKioqKiovIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4vKioqKioqLyBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4vKioqKioqLyBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbi8qKioqKiovIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbi8qKioqKiovIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuLyoqKioqKi8gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4vKioqKioqLyBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuLyoqKioqKi8gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbi8qKioqKiovIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4vKioqKioqLyBcdFx0cmV0dXJuIG5zO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIERvdHNDYW52YXM7IH0pO1xuY2xhc3MgRG90c0NhbnZhcyB7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXlsb2FkKSB7XHJcbiAgICAgICAgdGhpcy5pbXBvcnRFbGVtID0gcGF5bG9hZC5pbXBvcnRFbGVtO1xyXG4gICAgICAgIHRoaXMuY2xhc3MgPSBwYXlsb2FkLmNsYXNzO1xyXG4gICAgICAgIHRoaXMud2lkdGggPSBwYXlsb2FkLndpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gcGF5bG9hZC5oZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdDQU5WQVMnKTtcclxuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHRoaXMud2lkdGg7XHJcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5jYW52YXMuY2xhc3NMaXN0LmFkZCh0aGlzLmNsYXNzKTtcclxuICAgICAgICB0aGlzLmltcG9ydEVsZW0uYXBwZW5kQ2hpbGQodGhpcy5jYW52YXMpO1xyXG4gICAgICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSAncmdiKDI1NSwgMjAxLCAyNSknO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSA1OyBpIDwgdGhpcy53aWR0aDsgaSArPSAzMCl7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSA1OyBqIDwgdGhpcy5oZWlnaHQ7IGogKz0gMzApe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3RG90KGksIGosIDUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZHJhd0RvdChYLCBZLCBSYWQpe1xyXG4gICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIHRoaXMuY3R4LmFyYyhYLCBZLCBSYWQsIDAsIE1hdGguUEkgKiAyLCB0cnVlKTtcclxuICAgICAgICB0aGlzLmN0eC5maWxsKClcclxuICAgIH1cclxufVxuXG4vKioqLyB9KSxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGhpZGVMaXN0OyB9KTtcbmNsYXNzIGhpZGVMaXN0e1xyXG4gICAgY29uc3RydWN0b3IobGlzdEJsb2NrLCBhdXRvSGVpZ2h0ID0gZmFsc2UpIHtcclxuICAgICAgICB0aGlzLmF1dG9IZWlnaHQgPSBhdXRvSGVpZ2h0O1xyXG4gICAgICAgIHRoaXMubGlzdEJsb2NrID0gbGlzdEJsb2NrO1xyXG4gICAgICAgIHRoaXMubGlzdCA9IHRoaXMubGlzdEJsb2NrLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrXScpO1xyXG4gICAgICAgIHRoaXMubGlzdEJsb2NrLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJ0bl0nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57dGhpcy5zaG93QmxvY2soKX0pXHJcbiAgICAgICAgaWYgKHRoaXMubGlzdEJsb2NrLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJ0bl0nKS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdC5zdHlsZS5oZWlnaHQgPSBgJHt0aGlzLmxpc3Quc2Nyb2xsSGVpZ2h0fXB4YDtcclxuICAgICAgICAgICAgdGhpcy5saXN0LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2hvd0Jsb2NrKCl7XHJcbiAgICAgICAgbGV0IGJsb2NrSGVpZ2h0ID0gcGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5saXN0KS5nZXRQcm9wZXJ0eVZhbHVlKCdoZWlnaHQnKSk7XHJcbiAgICAgICAgaWYgKGJsb2NrSGVpZ2h0ID09PSAwKXtcclxuICAgICAgICAgICAgaWYgKHRoaXMuYXV0b0hlaWdodCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3Quc3R5bGUuaGVpZ2h0ID0gYGF1dG9gO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0LnN0eWxlLmhlaWdodCA9IGAke3RoaXMubGlzdC5zY3JvbGxIZWlnaHR9cHhgO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMubGlzdEJsb2NrLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJ0bl0nKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgdGhpcy5saXN0LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5saXN0QmxvY2sucXVlcnlTZWxlY3RvcignW2RhdGEtYnRuXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3QuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICAgICAgdGhpcy5saXN0LnN0eWxlLmhlaWdodCA9IGAwYFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG4vKioqLyB9KSxcbi8qIDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHBvcHVwRnVuYzsgfSk7XG5jbGFzcyBwb3B1cEZ1bmMge1xyXG4gICAgY29uc3RydWN0b3IoYnV0dG9uLHBvcHVwLHdyYXBwZXIgPSB0cnVlKSB7XHJcbiAgICAgICAgdGhpcy5idXR0b24gPSBidXR0b247XHJcbiAgICAgICAgdGhpcy5wb3B1cCA9IHBvcHVwO1xyXG4gICAgICAgIHRoaXMud3JhcHBlciA9IHdyYXBwZXI7XHJcbiAgICAgICAgdGhpcy5vcGVuUG9wdXBGdW5jID0gdGhpcy5vcGVuUG9wdXAuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmNsb3NlUG9wdXBGdW5jID0gdGhpcy5jbG9zZVBvcHVwLmJpbmQodGhpcyk7XHJcbiAgICAgICAgaWYgKCBBcnJheS5pc0FycmF5KHRoaXMuYnV0dG9uKSl7XHJcbiAgICAgICAgICAgIHRoaXMuYnV0dG9uLmZvckVhY2goIGVsZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub3BlblBvcHVwRnVuYyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9wZW5Qb3B1cEZ1bmMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnBvcHVwKSl7XHJcbiAgICAgICAgICAgIHRoaXMucG9wdXAuZm9yRWFjaCggZWxlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jbG9zZScpLmZvckVhY2goZWxlbSA9PiBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZVBvcHVwRnVuYykpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jbG9zZScpLmZvckVhY2goZWxlbSA9PiBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZVBvcHVwRnVuYykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9wZW5Qb3B1cChldmVudCl7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwLXdyYXBwZXI+ZGl2JykuZm9yRWFjaCggZWxlbSA9PiB7XHJcbiAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICB9KTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXAnKS5mb3JFYWNoKCBlbGVtID0+IHtcclxuICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmKGV2ZW50LnRhcmdldC5kYXRhc2V0LnN0b3BFdmVudCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMucG9wdXApKXtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9wdXAuZm9yRWFjaCggZWxlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucygnd3JhcHBlcicpICYmIHRoaXMud3JhcHBlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtLnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuc2NyZWVuLndpZHRoIDwgNzY4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtd3JhcHBlcicpICYmIHRoaXMud3JhcHBlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC13cmFwcGVyJykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvcHVwLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucG9wdXAucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ3dyYXBwZXInKSAmJiB0aGlzLndyYXBwZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcHVwLnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LnNjcmVlbi53aWR0aCA8IDc2OCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtd3JhcHBlcicpICYmIHRoaXMud3JhcHBlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC13cmFwcGVyJykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuY2xvc2VQb3B1cEZ1bmMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNsb3NlUG9wdXAoZXZlbnQpe1xyXG4gICAgICAgIGlmICghZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY2xvc2UnKSl7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMucG9wdXApKXtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9wdXAuZm9yRWFjaCggZWxlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucygnd3JhcHBlcicpICYmIHRoaXMud3JhcHBlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtLnBhcmVudE5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuc2NyZWVuLndpZHRoIDwgNzY4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC13cmFwcGVyJykgJiYgdGhpcy53cmFwcGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC13cmFwcGVyJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wb3B1cC5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucygnd3JhcHBlcicpICYmIHRoaXMud3JhcHBlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9wdXAucGFyZW50Tm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuc2NyZWVuLndpZHRoIDwgNzY4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC13cmFwcGVyJykgJiYgdGhpcy53cmFwcGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwLXdyYXBwZXInKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5jbG9zZVBvcHVwRnVuYyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbl9fd2VicGFja19yZXF1aXJlX18oMSk7XG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX2hpZGVMaXN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX2RvdHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfcG9wdXBGdW5jX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHJcblxyXG5cclxuXHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1oaWRlXScpKSB7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1oaWRlXScpLmZvckVhY2gobGlzdCA9PiB7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKT0+e1xyXG4gICAgICAgICAgICBuZXcgX2NvbXBvbmVudHNfaGlkZUxpc3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0obGlzdCk7XHJcbiAgICAgICAgfSwgNTAwKVxyXG4gICAgfSk7XHJcbn1cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWhpZGUtYXV0b10nKSkge1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtaGlkZS1hdXRvXScpLmZvckVhY2gobGlzdCA9PiB7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKT0+e1xyXG4gICAgICAgICAgICBuZXcgX2NvbXBvbmVudHNfaGlkZUxpc3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0obGlzdCwgdHJ1ZSk7XHJcbiAgICAgICAgfSwgNTAwKVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcqW2RhdGEtcG9wdXBdJykpIHtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJypbZGF0YS1wb3B1cF0nKS5mb3JFYWNoKCBlbGVtID0+IHtcclxuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnBvcHVwLiR7ZWxlbS5kYXRhc2V0LnBvcHVwfWApKSB7XHJcbiAgICAgICAgICAgIG5ldyBfY29tcG9uZW50c19wb3B1cEZ1bmNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0oZWxlbSwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnBvcHVwLiR7ZWxlbS5kYXRhc2V0LnBvcHVwfWApKVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cclxuXHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLnRvcC1jYXRhbG9nJykpe1xyXG4gICAgZnVuY3Rpb24gY2xvc2VNZW51KGUpe1xyXG4gICAgICAgIGlmICghZS50YXJnZXQuY2xvc2VzdCgnLmNhdGFsb2cnKSl7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlY3Rpb24udG9wLWNhdGFsb2cgLmNhdGFsb2cgLmhhcy1jaGlsZC5hY3RpdmUnKS5mb3JFYWNoKCBlbGVtID0+IHtcclxuICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlTWVudSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzZWN0aW9uLnRvcC1jYXRhbG9nIC5jYXRhbG9nIC5oYXMtY2hpbGQgc3BhbicpLmZvckVhY2goIGVsZW0gPT4ge1xyXG4gICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBsZXQgYWN0aXZlQ2xhc3M7XHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIGVsZW0ucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpID8gYWN0aXZlQ2xhc3MgPSB0cnVlIDogYWN0aXZlQ2xhc3MgPSBmYWxzZTtcclxuICAgICAgICAgICAgZWxlbS5wYXJlbnROb2RlLmNsb3Nlc3QoJ3VsJykucXVlcnlTZWxlY3RvckFsbCgnLmhhcy1jaGlsZCcpLmZvckVhY2goIGNoaWxkID0+IGNoaWxkLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTtcclxuICAgICAgICAgICAgaWYgKGFjdGl2ZUNsYXNzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VNZW51KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsZW0ucGFyZW50Tm9kZS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcclxuICAgICAgICB9KVxyXG4gICAgfSk7XHJcbiAgICBuZXcgX2NvbXBvbmVudHNfZG90c19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSh7XHJcbiAgICAgICAgaW1wb3J0RWxlbTogZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi50b3AtY2F0YWxvZyAuZG90cy1jYW52YXMnKSxcclxuICAgICAgICBjbGFzczogJ3RvcC1ibG9jay1kb3RzJyxcclxuICAgICAgICB3aWR0aDogMjA0LFxyXG4gICAgICAgIGhlaWdodDogMTA4LFxyXG4gICAgfSlcclxufVxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5wcm9kdWN0LXNsaWRlcicpKXtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlY3Rpb24ucHJvZHVjdC1zbGlkZXInKS5mb3JFYWNoKCBlbGVtID0+IHtcclxuICAgICAgICBsZXQgc2xpZGVzUGVyVmlldyA9IDQ7XHJcbiAgICAgICAgaWYgKGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCd0aHJlZS1zbGlkZXMtcGVyLXZpZXcnKSl7XHJcbiAgICAgICAgICAgIHNsaWRlc1BlclZpZXcgPSAzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgYmxvY2sgPSBlbGVtLnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItY29udGFpbmVyJyk7XHJcbiAgICAgICAgbGV0IHN3aXBlciA9IG5ldyBTd2lwZXIoYmxvY2ssIHtcclxuICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogc2xpZGVzUGVyVmlldyxcclxuICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAzMCxcclxuICAgICAgICAgICAgc2xpZGVzUGVyR3JvdXA6IDQsXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgICAgIGxvb3BGaWxsR3JvdXBXaXRoQmxhbms6IHRydWUsXHJcbiAgICAgICAgICAgIHBhZ2luYXRpb246IHtcclxuICAgICAgICAgICAgICAgIGVsOiBlbGVtLnF1ZXJ5U2VsZWN0b3IoJy5wYWdpbmF0aW9uJyksXHJcbiAgICAgICAgICAgICAgICBjbGlja2FibGU6IHRydWVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgbmV4dEVsOiBlbGVtLnF1ZXJ5U2VsZWN0b3IoJy5hcnJvdy5uZXh0JyksXHJcbiAgICAgICAgICAgICAgICBwcmV2RWw6IGVsZW0ucXVlcnlTZWxlY3RvcignLmFycm93LnByZXYnKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBicmVha3BvaW50czoge1xyXG4gICAgICAgICAgICAgICAgMDoge1xyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyR3JvdXA6IDFcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICA3Njc6IHtcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLFxyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1Blckdyb3VwOiAyXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgOTAyOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMyxcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJHcm91cDogM1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIDEzNjU6IHtcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiA0LFxyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1Blckdyb3VwOiA0XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pXHJcbn1cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24uZmVhdHVyZXMnKSl7XHJcbiAgICBuZXcgX2NvbXBvbmVudHNfZG90c19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSh7XHJcbiAgICAgICAgaW1wb3J0RWxlbTogZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5mZWF0dXJlcyAuZG90cy1jYW52YXMnKSxcclxuICAgICAgICBjbGFzczogJ3RvcC1ibG9jay1kb3RzJyxcclxuICAgICAgICB3aWR0aDogNDMwLFxyXG4gICAgICAgIGhlaWdodDogMTA4LFxyXG4gICAgfSlcclxufVxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5hYm91dC1jb21wYW55Jykpe1xyXG4gICAgbmV3IF9jb21wb25lbnRzX2RvdHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0oe1xyXG4gICAgICAgIGltcG9ydEVsZW06IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24uYWJvdXQtY29tcGFueSAuZG90cy1jYW52YXMnKSxcclxuICAgICAgICBjbGFzczogJ3RvcC1ibG9jay1kb3RzJyxcclxuICAgICAgICB3aWR0aDogNDMwLFxyXG4gICAgICAgIGhlaWdodDogMTA4LFxyXG4gICAgfSlcclxufVxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5zb2x1dGlvbnMnKSl7XHJcbiAgICBuZXcgX2NvbXBvbmVudHNfZG90c19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSh7XHJcbiAgICAgICAgaW1wb3J0RWxlbTogZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5zb2x1dGlvbnMgLmRvdHMtY2FudmFzJyksXHJcbiAgICAgICAgY2xhc3M6ICd0b3AtYmxvY2stZG90cycsXHJcbiAgICAgICAgd2lkdGg6IDQzMCxcclxuICAgICAgICBoZWlnaHQ6IDEwOCxcclxuICAgIH0pXHJcbn1cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24uY29udGFjdHMnKSl7XHJcbiAgICBuZXcgX2NvbXBvbmVudHNfZG90c19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSh7XHJcbiAgICAgICAgaW1wb3J0RWxlbTogZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5jb250YWN0cyAuZG90cy1jYW52YXMnKSxcclxuICAgICAgICBjbGFzczogJ3RvcC1ibG9jay1kb3RzJyxcclxuICAgICAgICB3aWR0aDogMTA4LFxyXG4gICAgICAgIGhlaWdodDogNzYsXHJcbiAgICB9KVxyXG59XHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLmNhdGFsb2cnKSl7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzZWN0aW9uLmNhdGFsb2cgLmNhdGFsb2ctYnV0dG9ucyAuYnRucy12aWV3IGJ1dHRvbicpLmZvckVhY2goIGVsZW0gPT4ge1xyXG4gICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24uY2F0YWxvZyAuY2F0YWxvZy1idXR0b25zIC5idG5zLXZpZXcgYnV0dG9uLmFjdGl2ZScpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICBpZiAoZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2xpc3QnKSl7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLmNhdGFsb2cgLnByb2R1Y3QtZ3JpZCcpLmNsYXNzTGlzdC5hZGQoJ3Jvdy1ncmlkJylcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24uY2F0YWxvZyAucHJvZHVjdC1ncmlkJykuY2xhc3NMaXN0LnJlbW92ZSgncm93LWdyaWQnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufVxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5maWx0ZXIgLmZpbHRlci1saXN0LnByaWNlJykpe1xyXG4gICAgbGV0IGZyb20gPSAkKCdzZWN0aW9uLmZpbHRlciAuZmlsdGVyLWxpc3QucHJpY2UgLnJhbmdlLXNsaWRlcicpLmRhdGEoJ2Zyb20nKSxcclxuICAgICAgICB0byA9ICQoJ3NlY3Rpb24uZmlsdGVyIC5maWx0ZXItbGlzdC5wcmljZSAucmFuZ2Utc2xpZGVyJykuZGF0YSgndG8nKSxcclxuICAgICAgICBmcm9tSW5wdXQgPSAkKCdzZWN0aW9uLmZpbHRlciAuZmlsdGVyLWxpc3QucHJpY2UgLmZyb20gaW5wdXQnKSxcclxuICAgICAgICB0b0lucHV0ID0gJCgnc2VjdGlvbi5maWx0ZXIgLmZpbHRlci1saXN0LnByaWNlIC50byBpbnB1dCcpLFxyXG4gICAgICAgIG1pbiA9ICQoJ3NlY3Rpb24uZmlsdGVyIC5maWx0ZXItbGlzdC5wcmljZSAucmFuZ2Utc2xpZGVyJykuZGF0YSgnbWluJyksXHJcbiAgICAgICAgbWF4ID0gJCgnc2VjdGlvbi5maWx0ZXIgLmZpbHRlci1saXN0LnByaWNlIC5yYW5nZS1zbGlkZXInKS5kYXRhKCdtYXgnKTtcclxuICAgIGZ1bmN0aW9uIHVwZGF0ZUlucHV0cyhkYXRhKXtcclxuICAgICAgICBmcm9tID0gZGF0YS5mcm9tO1xyXG4gICAgICAgIHRvID0gZGF0YS50bztcclxuICAgICAgICBmcm9tSW5wdXQucHJvcCgndmFsdWUnLCBmcm9tKTtcclxuICAgICAgICB0b0lucHV0LnByb3AoJ3ZhbHVlJywgdG8pO1xyXG4gICAgfVxyXG5cclxuICAgICQoJ3NlY3Rpb24uZmlsdGVyIC5maWx0ZXItbGlzdC5wcmljZSAucmFuZ2Utc2xpZGVyJykuaW9uUmFuZ2VTbGlkZXIoe1xyXG4gICAgICAgIHR5cGU6IFwiZG91YmxlXCIsXHJcbiAgICAgICAgc2tpbjogXCJyb3VuZFwiLFxyXG4gICAgICAgIGZyb21fc2hhZG93OiB0cnVlLFxyXG4gICAgICAgIHRvX3NoYWRvdzogdHJ1ZSxcclxuICAgICAgICBoaWRlX21pbl9tYXg6IHRydWUsXHJcbiAgICAgICAgaGlkZV9mcm9tX3RvOiB0cnVlLFxyXG4gICAgICAgIG9uU3RhcnQ6IHVwZGF0ZUlucHV0cyxcclxuICAgICAgICBvbkNoYW5nZTogdXBkYXRlSW5wdXRzLFxyXG4gICAgICAgIG9uRmluaXNoOiB1cGRhdGVJbnB1dHNcclxuICAgIH0pO1xyXG4gICAgbGV0IGluc3RhbmNlID0gJCgnc2VjdGlvbi5maWx0ZXIgLmZpbHRlci1saXN0LnByaWNlIC5yYW5nZS1zbGlkZXInKS5kYXRhKFwiaW9uUmFuZ2VTbGlkZXJcIik7XHJcblxyXG4gICAgZnJvbUlucHV0Lm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICBsZXQgdmFsID0gJCh0aGlzKS5wcm9wKCd2YWx1ZScpXHJcblxyXG4gICAgICAgaWYgKHZhbCA8IG1pbil7XHJcbiAgICAgICAgICAgdmFsID0gbWluXHJcbiAgICAgICB9IGVsc2UgaWYgKHZhbCA+IHRvKXtcclxuICAgICAgICAgICB2YWwgPSB0bztcclxuICAgICAgIH1cclxuXHJcbiAgICAgICAgaW5zdGFuY2UudXBkYXRlKHtcclxuICAgICAgICAgICAgZnJvbTogdmFsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQodGhpcykucHJvcCgndmFsdWUnLCB2YWwpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdG9JbnB1dC5vbihcImNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHZhbCA9ICQodGhpcykucHJvcChcInZhbHVlXCIpO1xyXG5cclxuICAgICAgICAvLyB2YWxpZGF0ZVxyXG4gICAgICAgIGlmICh2YWwgPCBmcm9tKSB7XHJcbiAgICAgICAgICAgIHZhbCA9IGZyb207XHJcbiAgICAgICAgfSBlbHNlIGlmICh2YWwgPiBtYXgpIHtcclxuICAgICAgICAgICAgdmFsID0gbWF4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW5zdGFuY2UudXBkYXRlKHtcclxuICAgICAgICAgICAgdG86IHZhbFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKHRoaXMpLnByb3AoXCJ2YWx1ZVwiLCB2YWwpO1xyXG4gICAgfSk7XHJcbn1cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24ucHJvZHVjdC1pbmZvIC5pbWFnZS1nYWxsZXJ5Jykpe1xyXG4gICAgbGV0IHN3aXBlciA9IG5ldyBTd2lwZXIoJ3NlY3Rpb24ucHJvZHVjdC1pbmZvIC5pbWFnZS1nYWxsZXJ5IC5zd2lwZXItY29udGFpbmVyJywge1xyXG4gICAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcclxuICAgICAgICBzbGlkZXNQZXJWaWV3OiA0LFxyXG4gICAgICAgIHNwYWNlQmV0d2VlbjogMjAsXHJcbiAgICB9KTtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlY3Rpb24ucHJvZHVjdC1pbmZvIC5pbWFnZS1nYWxsZXJ5IC5zd2lwZXItc2xpZGUnKS5mb3JFYWNoKCBlbGVtID0+IHtcclxuICAgICAgICBlbGVtLnF1ZXJ5U2VsZWN0b3IoJ2EnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5wcm9kdWN0LWluZm8gLmJpZy1pbWFnZSBpbWcnKS5zcmMgPSBlbGVtLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpLnNyYztcclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5wcm9kdWN0LWluZm8gLmJpZy1pbWFnZSBhJykuaHJlZiA9IGVsZW0ucXVlcnlTZWxlY3RvcignYScpLmhyZWY7XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn1cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24ucHJvZHVjdC10YWJzJykpe1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcInNlY3Rpb24ucHJvZHVjdC10YWJzIC50YWItbGlua3MgbGlcIikuZm9yRWFjaCggKGVsZW0sIGkpID0+IHtcclxuICAgICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwic2VjdGlvbi5wcm9kdWN0LXRhYnMgLnRhYi1saW5rcyAuYWN0aXZlXCIpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwic2VjdGlvbi5wcm9kdWN0LXRhYnMgLnRhYnMgLnRhYi5hY3RpdmVcIikuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwic2VjdGlvbi5wcm9kdWN0LXRhYnMgLnRhYnMgLnRhYlwiKV1baV0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufVxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5jYXJ0LW9yZGVyJykpe1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2VjdGlvbi5jYXJ0LW9yZGVyIC5kZWxpdmVyeSAuY29udGVudCAuYmxvY2snKS5mb3JFYWNoKCBlbGVtID0+IHtcclxuICAgICAgICBlbGVtLnF1ZXJ5U2VsZWN0b3IoJy5yYWRpbyBpbnB1dCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzZWN0aW9uLmNhcnQtb3JkZXIgLmRlbGl2ZXJ5IC5jb250ZW50IC5ibG9jaycpLmZvckVhY2goIGJsb2NrID0+IHtcclxuICAgICAgICAgICAgICAgIGJsb2NrLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgYmxvY2sucXVlcnlTZWxlY3RvcignLnJhZGlvLWZpZWxkcycpLnN0eWxlLmhlaWdodCA9IDA7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICBlbGVtLnF1ZXJ5U2VsZWN0b3IoJy5yYWRpby1maWVsZHMnKS5zdHlsZS5oZWlnaHQgPSBgJHtlbGVtLnF1ZXJ5U2VsZWN0b3IoJy5yYWRpby1maWVsZHMnKS5zY3JvbGxIZWlnaHR9cHhgXHJcbiAgICAgICAgfSlcclxuICAgIH0pO1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5jYXJ0LW9yZGVyIC51cCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcclxuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oe1xyXG4gICAgICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgICAgIGJlaGF2aW9yOiBcInNtb290aFwiXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KVxyXG59XHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLmFib3V0LXVzJykpe1xyXG4gICAgbmV3IF9jb21wb25lbnRzX2RvdHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0oe1xyXG4gICAgICAgIGltcG9ydEVsZW06IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24uYWJvdXQtdXMgLmRvdHMtY2FudmFzJyksXHJcbiAgICAgICAgY2xhc3M6ICd0b3AtYmxvY2stZG90cycsXHJcbiAgICAgICAgd2lkdGg6IDIwNCxcclxuICAgICAgICBoZWlnaHQ6IDEwOCxcclxuICAgIH0pXHJcbn1cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24ubWFpbi1jYXRhbG9nJykpe1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2VjdGlvbi5tYWluLWNhdGFsb2cgLmRvdHMtY2FudmFzJykuZm9yRWFjaCggZWxlbSA9PiB7XHJcbiAgICAgICAgbmV3IF9jb21wb25lbnRzX2RvdHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0oe1xyXG4gICAgICAgICAgICBpbXBvcnRFbGVtOiBlbGVtLFxyXG4gICAgICAgICAgICBjbGFzczogJ3RvcC1ibG9jay1kb3RzJyxcclxuICAgICAgICAgICAgd2lkdGg6IDQzMCxcclxuICAgICAgICAgICAgaGVpZ2h0OiAxMDUsXHJcbiAgICAgICAgfSlcclxuICAgIH0pO1xyXG59XHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLnBheW1lbnQtbWV0aG9kcycpKXtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlY3Rpb24ucGF5bWVudC1tZXRob2RzIC5kb3RzLWNhbnZhcycpLmZvckVhY2goIGVsZW0gPT4ge1xyXG4gICAgICAgIG5ldyBfY29tcG9uZW50c19kb3RzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKHtcclxuICAgICAgICAgICAgaW1wb3J0RWxlbTogZWxlbSxcclxuICAgICAgICAgICAgY2xhc3M6ICd0b3AtYmxvY2stZG90cycsXHJcbiAgICAgICAgICAgIHdpZHRoOiA0MzAsXHJcbiAgICAgICAgICAgIGhlaWdodDogMTA1LFxyXG4gICAgICAgIH0pXHJcbiAgICB9KTtcclxufVxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5zZXJ2aWNlJykpe1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2VjdGlvbi5zZXJ2aWNlIC5kb3RzLWNhbnZhcycpLmZvckVhY2goIGVsZW0gPT4ge1xyXG4gICAgICAgIG5ldyBfY29tcG9uZW50c19kb3RzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKHtcclxuICAgICAgICAgICAgaW1wb3J0RWxlbTogZWxlbSxcclxuICAgICAgICAgICAgY2xhc3M6ICd0b3AtYmxvY2stZG90cycsXHJcbiAgICAgICAgICAgIHdpZHRoOiA0MzAsXHJcbiAgICAgICAgICAgIGhlaWdodDogMTA1LFxyXG4gICAgICAgIH0pXHJcbiAgICB9KTtcclxufVxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5ibG9nJykpe1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2VjdGlvbi5ibG9nIC5kb3RzLWNhbnZhcycpLmZvckVhY2goIGVsZW0gPT4ge1xyXG4gICAgICAgIG5ldyBfY29tcG9uZW50c19kb3RzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKHtcclxuICAgICAgICAgICAgaW1wb3J0RWxlbTogZWxlbSxcclxuICAgICAgICAgICAgY2xhc3M6ICd0b3AtYmxvY2stZG90cycsXHJcbiAgICAgICAgICAgIHdpZHRoOiA0MzAsXHJcbiAgICAgICAgICAgIGhlaWdodDogMTA1LFxyXG4gICAgICAgIH0pXHJcbiAgICB9KTtcclxufVxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5jb250YWN0LXBhZ2UnKSl7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzZWN0aW9uLmNvbnRhY3QtcGFnZSAuZG90cy1jYW52YXMnKS5mb3JFYWNoKCBlbGVtID0+IHtcclxuICAgICAgICBuZXcgX2NvbXBvbmVudHNfZG90c19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSh7XHJcbiAgICAgICAgICAgIGltcG9ydEVsZW06IGVsZW0sXHJcbiAgICAgICAgICAgIGNsYXNzOiAndG9wLWJsb2NrLWRvdHMnLFxyXG4gICAgICAgICAgICB3aWR0aDogNDMwLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IDEwNSxcclxuICAgICAgICB9KVxyXG4gICAgfSk7XHJcbn1cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24ubmV3cy1wYWdlJykpe1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2VjdGlvbi5uZXdzLXBhZ2UgLmRvdHMtY2FudmFzJykuZm9yRWFjaCggZWxlbSA9PiB7XHJcbiAgICAgICAgbmV3IF9jb21wb25lbnRzX2RvdHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0oe1xyXG4gICAgICAgICAgICBpbXBvcnRFbGVtOiBlbGVtLFxyXG4gICAgICAgICAgICBjbGFzczogJ3RvcC1ibG9jay1kb3RzJyxcclxuICAgICAgICAgICAgd2lkdGg6IDQzMCxcclxuICAgICAgICAgICAgaGVpZ2h0OiAxMDUsXHJcbiAgICAgICAgfSlcclxuICAgIH0pO1xyXG59XHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkZXIgLmJ1cmdlcicpICYmIHdpbmRvdy5zY3JlZW4ud2lkdGggPCA5OTIpe1xyXG4gICAgZnVuY3Rpb24gY2xvc2VCdXJnZXIoZSl7XHJcbiAgICAgICAgaWYgKCFlLnRhcmdldC5jbG9zZXN0KCcucGhvbmVzJykgJiYgIWUudGFyZ2V0LmNsb3Nlc3QoJ25hdicpICYmICFlLnRhcmdldC5jbG9zZXN0KCcubGFuZ3MnKSkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkZXIgLnBob25lcycpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkZXIgbmF2JykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2hlYWRlciAubGFuZ3MnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZGVyIC5waG9uZXMgLmNsb3NlJykucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgY2xvc2VCdXJnZXIpO1xyXG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgY2xvc2VCdXJnZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2hlYWRlciAuYnVyZ2VyJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZGVyIC5waG9uZXMnKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkZXIgbmF2JykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZGVyIC5sYW5ncycpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2hlYWRlciAucGhvbmVzIC5jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGNsb3NlQnVyZ2VyKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgY2xvc2VCdXJnZXIpO1xyXG4gICAgfSlcclxufVxyXG5cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2hlYWRlciAuc2VhcmNoJykgJiYgd2luZG93LnNjcmVlbi53aWR0aCA8IDc2OCl7XHJcbiAgICBmdW5jdGlvbiBjbG9zZVNlYXJjaChlKXtcclxuICAgICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbG9zZS1sYWJlbCcpKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2hlYWRlciAuc2VhcmNoIGxhYmVsJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJywgJ2Nsb3NlLWxhYmVsJyk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2hlYWRlciAuc2VhcmNoIGxhYmVsJykucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVNlYXJjaClcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkZXIgLnNlYXJjaD5hJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZGVyIC5zZWFyY2ggbGFiZWwnKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnLCAnY2xvc2UtbGFiZWwnKTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkZXIgLnNlYXJjaCBsYWJlbCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VTZWFyY2gpXHJcbiAgICB9KVxyXG59XHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLnRvcC1jYXRhbG9nIC5jYXRhbG9nJykgJiYgd2luZG93LnNjcmVlbi53aWR0aCA8IDk1MSl7XHJcbiAgICBmdW5jdGlvbiBjbG9zZUNhdGFsb2coKXtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLnRvcC1jYXRhbG9nIC5jYXRhbG9nPnVsJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJywgJ2Nsb3NlLWxhYmVsJyk7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi50b3AtY2F0YWxvZyAuY2F0YWxvZz51bCAuY2xvc2UnKS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlQ2F0YWxvZylcclxuICAgIH1cclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24udG9wLWNhdGFsb2cgLmNhdGFsb2c+cCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24udG9wLWNhdGFsb2cgLmNhdGFsb2c+dWwnKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnLCAnY2xvc2UtbGFiZWwnKTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLnRvcC1jYXRhbG9nIC5jYXRhbG9nPnVsIC5jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VDYXRhbG9nKVxyXG4gICAgfSlcclxufVxuXG4vKioqLyB9KVxuLyoqKioqKi8gXSk7Il0sImZpbGUiOiJtYWluLW1pbi5qcyJ9
